using System;
using System.Collections;
using System.Collections.Generic;
using TMPro;
using UnityEngine;
using UnityEngine.UI;

public class MalwareApp : MonoBehaviour
{
    private MalwareDescriptionSO appDescriptionSO;

    [SerializeField] Button IconAppButton;
    [SerializeField] TextMeshProUGUI AppIconTitle;

    [SerializeField] AppProperties appProperties;

    public void Start()
    {
            IconAppButton.onClick.AddListener(OnIconClick);
        
    }
    private void Update()
    {
        if (appDescriptionSO != null)
        {   
            AppIconTitle.text = appDescriptionSO.appName;
            IconAppButton.GetComponent<Image>().sprite = appDescriptionSO.appImage;
        }
    }

    private void OnIconClick()
    {
        appProperties.gameObject.SetActive(true);
        appProperties.SetAppDescription(appDescriptionSO);
    }

    public void SetAppDescription(MalwareDescriptionSO appDescription)
    { 
        appDescriptionSO = appDescription;
    }

    public MalwareDescriptionSO GetAppDescription()
    { 
        return appDescriptionSO;
    }

    public void close()
    {
        gameObject.SetActive(false);
    }
}
